# 게임 엔진 개발 지침서

산성비 스타일 퀴즈 게임 엔진 설계 및 구현 가이드

---

## 1. 게임 개요

### 핵심 메커니즘
- 산성비 스타일: 단어가 화면 상단에서 하단으로 낙하
- 타이핑 입력: 사용자가 정답 입력 시 해당 요소 제거
- 게임 오버: 단어가 바닥에 닿으면 체력 감소

---

## 2. 게임 모드

### 2.1 모드 구조
- GameEngine (공통 엔진)
- WordMode (단어 연습)
- MeaningMode (의미 퀴즈)
- SentenceMode (문장 완성)

### 2.2 모드별 상세
- 단어 연습: 데이터를 그대로 화면에 표시하고 입력받음
- 의미 퀴즈: 단어의 뜻을 표시하고 원본 단어를 정답으로 처리
- 문장 완성: 빈칸이 포함된 예문을 표시하고 누락된 단어를 정답으로 처리

---

## 3. 클래스 설계

### 3.1 GameEngine (메인 엔진)
- 역할: 캔버스 렌더링, 단어 생명주기 관리, 점수 및 콤보 계산
- 주요 속성: fallingWords, score, combo, health, isRunning
- 주요 메서드: start(), update(), render(), checkInput()

### 3.2 BaseMode (기본 클래스)
- 역할: 모든 게임 모드의 공통 인터페이스 정의
- 주요 기능: 랜덤 단어 획득 및 낙하 객체 생성 구조 제공

### 3.3 개별 모드 클래스
- WordMode, MeaningMode, SentenceMode가 BaseMode를 상속하여 각기 다른 렌더링 방식 구현

---

## 4. 게임 루프 상세

### 4.1 프레임 구조
1. 입력 처리: 키보드 입력 및 정답 대조
2. 상태 업데이트: 위치 이동, 충돌 감지, 점수 갱신
3. 렌더링: 화면 청소 및 객체 재그리기
4. 반복: requestAnimationFrame을 통한 루프 실행

---

## 5. 난이도 조절 알고리즘
- 동적 난이도: 점수 임계치에 따른 레벨 업 시스템
- 조절 항목: 생성 간격 감소, 낙하 속도 증가, 최대 동시 단어 수 확대

---

## 6. 구현 체크리스트
- GameEngine 및 Canvas 렌더링 시스템 구축
- 단어 생성 및 낙하 상태 관리 로직 구현
- 사용자 입력 감지 및 점수 산정 로직 구현
- 각 게임 모드별 클래스 구현
- 게임 오버 및 결과 처리 로직 구현
