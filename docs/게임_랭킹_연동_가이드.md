# 게임 랭킹 시스템 연동 가이드

개발 환경 내 랭킹 기능 통합 및 배포 지침

---

## 1. 인프라 준비 사항
- Firestore 규칙: Firebase 콘솔의 Rules 탭에 `firestore.rules` 내용 게시 확인
- 게임 모드 허용 목록: word, meaning, sentence 모드가 규칙상 포함되어야 함

---

## 2. 코드 통합 절차

### 2.1 게임 세션 관리
- 시작: 게임 진입 시 세션 생성 함수 호출
- 종료: 결과 확인 후 랭킹 제출 시 세션 동료 처리

### 2.2 플레이 액션 기록
- 기록 시점: 정답/오답 입력 등 모든 사용자 인터랙션 발생 시
- 데이터 업데이트: 현재 세선 정보에 점수 및 액션 데이터 실시간 누적

### 2.3 데이터 제출 및 조회
- 제출: 결과 화면에서 이름 입력 후 글로벌 DB로 전송 수행
- 조회: 랭킹 버튼 클릭 시 모드별 상위 기록 비동기 호출 및 렌더링

---

## 3. 보안 및 방어 정책
- 사용자 인증: Firebase Anonymous Auth 기반 익명 인증 필수
- 데이터 검증: 점수 해시(HMAC-SHA256), 시간당 획득 점수 상한제 적용
- 스팸 방지: 중복 제출 방지를 위한 서버 사이드 타임 아웃 정책 운영

---

## 4. 품질 테스트 시나리오
- 정상 동작 확인: 실제 플레이 후 랭킹 목록 내 신규 기록 등재 여부 점검
- 부정행위 방어: 비정상적인 속도로 높은 점수 획득 시 거부 여부 확인
- 규칙 검증: 허용되지 않은 데이터 포맷 제출 시 거절 여부 확인
